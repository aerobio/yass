import numpy as np

from yass.solver import COMPLETE, ROWS, COLS, SQUARES

a = [[0, 0, 0,  2, 0, 0,  0, 1, 0],
     [0, 9, 0,  0, 0, 0,  4, 0, 0],
     [8, 0, 6,  0, 0, 0,  0, 0, 0],

     [0, 7, 1,  0, 8, 4,  0, 9, 0],
     [0, 5, 0,  0, 0, 2,  3, 7, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],

     [0, 0, 0,  7, 1, 0,  0, 6, 4],
     [0, 2, 0,  0, 0, 5,  0, 0, 0],
     [3, 0, 0,  4, 0, 0,  0, 0, 9]]

b = [[0, 0, 5,  9, 6, 0,  0, 0, 7],
     [0, 0, 0,  0, 0, 0,  0, 5, 0],
     [0, 0, 2,  0, 0, 0,  4, 0, 9],

     [0, 0, 0,  0, 0, 0,  0, 4, 0],
     [2, 0, 0,  8, 0, 0,  9, 0, 0],
     [4, 0, 1,  0, 0, 0,  5, 0, 3],

     [3, 2, 9,  1, 0, 6,  0, 0, 0],
     [1, 0, 4,  0, 0, 0,  0, 3, 0],
     [0, 0, 0,  0, 8, 2,  0, 0, 0]]

c = [[0, 0, 0,  0, 0, 0,  0, 2, 0],
     [0, 8, 1,  0, 0, 6,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  4, 3, 0],

     [0, 0, 6,  0, 0, 1,  0, 9, 8],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 7,  0, 0, 0,  0, 6, 3],

     [0, 0, 3,  5, 6, 9,  2, 0, 7],
     [5, 7, 9,  2, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 7,  0, 0, 0]]

z = [[0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],

     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],

     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0],
     [0, 0, 0,  0, 0, 0,  0, 0, 0]]

vdsp1 = [
    [4, 0, 0,  5, 0, 0,  0, 0, 6],
    [0, 0, 0,  0, 0, 0,  0, 2, 0],
    [1, 0, 9,  0, 0, 7,  0, 5, 0],

    [0, 0, 0,  7, 0, 0,  0, 0, 0],
    [0, 4, 0,  0, 0, 0,  0, 0, 0],
    [7, 0, 6,  0, 0, 3,  1, 0, 8],

    [0, 0, 0,  2, 0, 0,  0, 0, 5],
    [0, 8, 0,  0, 9, 0,  7, 0, 0],
    [0, 0, 3,  0, 8, 0,  0, 0, 4]
]

hardest = [
    [0, 0, 0,  0, 0, 0,  0, 0, 0],
    [0, 1, 0,  6, 2, 0,  0, 9, 0],
    [0, 0, 2,  0, 0, 9,  3, 1, 0],

    [0, 0, 4,  0, 0, 6,  0, 8, 0],
    [0, 0, 8,  7, 0, 2,  1, 0, 0],
    [0, 3, 0,  8, 0, 0,  5, 0, 0],

    [0, 6, 9,  1, 0, 0,  4, 0, 0],
    [0, 8, 0,  0, 7, 3,  0, 5, 0],
    [0, 0, 0,  0, 0, 0,  0, 0, 0]
]

ones = [
    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1],

    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1],

    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1],
    [1, 1, 1,  1, 1, 1,  1, 1, 1]
]


ALL_BOARDS = (a, b, c, z, vdsp1, hardest, ones)
SOLVABLE = (True, True, True, True, True, True, False)


def is_complete(board):

    board = np.asarray(board)

    return board.all() and \
           all(set(board[r,:]) == COMPLETE for r in ROWS) and \
           all(set(board[:,c]) == COMPLETE for c in COLS) and \
           all(all(set(board[r:r + 3, c:c + 3].flat) == COMPLETE for c in SQUARES) for r in SQUARES)
